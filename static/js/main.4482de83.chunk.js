(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,n){e.exports=n(283)},176:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),i=n.n(r),c=(n(176),n(75)),s=n(76),l=n(81),d=n(77),u=n(82),m=n(37),h=n.n(m),f=n(38),p=n.n(f),g=n(39),w=n.n(g),v=n(10),b=n(31),E=n.n(b),y=n(33),k=n.n(y),j=n(32),S=n.n(j),x=n(24),I=n.n(x),O=n(25),P=n.n(O),N=n(79);var L=Object(v.withStyles)({card:{maxWidth:500},media:{height:300}})(function(e){var t=e.classes;return o.a.createElement(E.a,{className:t.card},!!e.data.preview&&o.a.createElement(N.a,{className:t.media,image:e.data.preview.images[0].source.url}),o.a.createElement(S.a,null,o.a.createElement(P.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.data.title),o.a.createElement(P.a,{component:"p"},e.data.selftext)),o.a.createElement(k.a,null,o.a.createElement(I.a,{size:"small",color:"primary",href:e.data.url},"View Original")))}),R=n(51),B=n(34),C=n.n(B),D=n(35),F=n.n(D),K=n(36),W=n.n(K),A=n(19),J=n(80),U=n.n(J),z=Object(v.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},search:Object(R.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(A.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(A.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(R.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:240,"&:focus":{width:400}})}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(C.a,{position:"absolute",color:"primary"},o.a.createElement(F.a,null,o.a.createElement("div",{className:t.grow}),o.a.createElement("div",{className:t.search},o.a.createElement("div",{className:t.searchIcon},o.a.createElement(U.a,null)),o.a.createElement(W.a,{placeholder:"Enter a subreddit...",disableUnderline:!0,classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){"Enter"===t.key&&e.onSubmit(t.target.value)}})),o.a.createElement("div",{className:t.grow}))))}),G=50,M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={subreddit:"all",posts:[],before:null,after:null,postIndex:0,loading:!0},n.removeStickied=function(e){return e.filter(function(e){return!e.data.stickied})},n.fetchFirstPage=function(){n.setState({loading:!0}),fetch("https://www.reddit.com/r/".concat(n.state.subreddit,".json?limit=").concat(G)).then(function(e){return e.json()}).then(function(e){return n.setState({posts:n.removeStickied(e.data.children),before:e.data.before,after:e.data.after,postIndex:0,loading:!1})})},n.fetchNextPage=function(){var e=n.state,t=e.subreddit,a=e.after;n.setState({loading:!0}),fetch("https://www.reddit.com/r/".concat(t,".json?limit=").concat(G,"&count=").concat(G,"&after=").concat(a)).then(function(e){return e.json()}).then(function(e){return n.setState({posts:n.removeStickied(e.data.children),before:e.data.before,after:e.data.after,postIndex:0,loading:!1})})},n.fetchPrevPage=function(){var e=n.state,t=e.subreddit,a=e.before;null!==a&&(n.setState({loading:!0}),fetch("https://www.reddit.com/r/".concat(t,".json?limit=").concat(G,"&count=").concat(G,"&before=").concat(a)).then(function(e){return e.json()}).then(function(e){return n.setState({posts:n.removeStickied(e.data.children),before:e.data.before,after:e.data.after,postIndex:G-1,loading:!1})}))},n.onKeyDown=function(e){var t=n.state,a=t.posts,o=t.postIndex;t.loading||("ArrowRight"===e.key?o===a.length-1?n.fetchNextPage():n.setState({postIndex:o+1}):"ArrowLeft"===e.key&&(0===o?n.fetchPrevPage():n.setState({postIndex:o-1})))},n.onSearch=function(e){return n.setState({subreddit:e},function(){return n.fetchFirstPage()})},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),this.fetchFirstPage()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this.state,t=e.posts,n=e.postIndex,a=e.loading;if(0===t.length)return o.a.createElement(h.a,null);var r=t[n];return o.a.createElement(o.a.Fragment,null,o.a.createElement(z,{onSubmit:this.onSearch}),o.a.createElement(p.a,{style:{height:"100vh"},container:!0,justify:"center",alignItems:"center"},a?o.a.createElement(w.a,null):o.a.createElement(L,{key:r.data.id,data:r.data})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[171,2,1]]]);
//# sourceMappingURL=main.4482de83.chunk.js.map