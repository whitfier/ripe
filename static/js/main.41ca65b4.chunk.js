(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,n){e.exports=n(397)},205:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),o=n.n(i),c=(n(205),n(101)),l=n(102),s=n(110),d=n(103),u=n(109),m=n(45),h=n.n(m),f=n(46),p=n.n(f),g=n(11),w=n(64),v=n(42),E=n.n(v),b=n(43),y=n.n(b),k=n(44),x=n.n(k),S=n(34),j=n(105),_=n.n(j),O=Object(g.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},search:Object(w.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(S.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(w.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:240,"&:focus":{width:400}})}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{position:"absolute",color:"primary"},r.a.createElement(y.a,null,r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(_.a,null)),r.a.createElement(x.a,{placeholder:"Enter a subreddit...",disableUnderline:!0,classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){"Enter"===t.key&&e.onSubmit(t.target.value)}})),r.a.createElement("div",{className:t.grow}))))}),L=n(22),C=n.n(L),P=n(24),R=n.n(P),W=n(23),I=n.n(W),N=n(13),z=n.n(N),B=n(21),A=n.n(B),T=n(106),U=n.n(T),D=function(e){return r.a.createElement(C.a,{style:{maxWidth:800,maxHeight:600,overflow:"auto"}},r.a.createElement(U.a,{url:e.url,controls:!0,playing:!0,muted:!0,style:{marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(I.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.data.title)),r.a.createElement(R.a,null,r.a.createElement(z.a,{size:"small",color:"primary",href:e.data.url},"Source"),r.a.createElement(z.a,{size:"small",color:"primary",href:"https://www.reddit.com".concat(e.data.permalink)},"Comments")))},K=n(107),H=n.n(K),M=function(e){return r.a.createElement(C.a,{style:{maxWidth:800,maxHeight:600,overflow:"auto"}},r.a.createElement(I.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.data.title),r.a.createElement(A.a,{component:"div"},r.a.createElement(H.a,{source:e.data.selftext}))),r.a.createElement(R.a,null,r.a.createElement(z.a,{size:"small",color:"primary",href:e.data.url},"Source"),r.a.createElement(z.a,{size:"small",color:"primary",href:"https://www.reddit.com".concat(e.data.permalink)},"Comments")))},J=n(108),G=function(e){return r.a.createElement(C.a,{style:{maxWidth:800,maxHeight:600,overflow:"auto"}},r.a.createElement(J.a,{image:e.url,style:{width:400*e.data.preview.images[0].source.width/e.data.preview.images[0].source.height,height:400,marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(I.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.data.title)),r.a.createElement(R.a,null,r.a.createElement(z.a,{size:"small",color:"primary",href:e.data.url},"Source"),r.a.createElement(z.a,{size:"small",color:"primary",href:"https://www.reddit.com".concat(e.data.permalink)},"Comments")))},Q=50,$=Object(g.createMuiTheme)({palette:{primary:{main:"#ff4500"}}}),q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={subreddit:"all",posts:[],before:null,after:null,index:0,loading:!0},n.removeStickied=function(e){return e.filter(function(e){return!e.data.stickied})},n.fetchPage=function(e,t){var a=n.state.subreddit;n.setState({loading:!0}),fetch("https://www.reddit.com/r/".concat(a,".json?limit=").concat(Q,"&count=").concat(Q,"&before=").concat(e,"&after=").concat(t)).then(function(e){return e.json()}).then(function(e){return n.setState({posts:n.removeStickied(e.data.children),before:e.data.before,after:e.data.after,loading:!1})})},n.onKeyDown=function(e){var t=n.state,a=t.posts,r=t.index,i=t.loading,o=t.before,c=t.after;if(!(i||"ArrowLeft"===e.key&&0===r)){var l=r%Q;"ArrowRight"===e.key?(n.setState({index:r+1}),l===a.length-1&&n.fetchPage(null,c)):"ArrowLeft"===e.key&&(n.setState({index:r-1}),0===l&&n.fetchPage(o,null))}},n.onSearch=function(e){return n.setState({subreddit:e,index:0},function(){return n.fetchPage(null,null)})},n.renderPost=function(e){switch(e.post_hint){case"image":return r.a.createElement(G,{data:e,url:e.url,index:n.state.index});case"hosted:video":return r.a.createElement(D,{data:e,url:e.media.reddit_video.scrubber_media_url,index:n.state.index});case"rich:video":var t="gfycat.com"===e.domain?e.preview.reddit_video_preview.scrubber_media_url:e.url;return r.a.createElement(D,{data:e,url:t,index:n.state.index});case"link":return e.preview.reddit_video_preview?r.a.createElement(D,{data:e,url:e.preview.reddit_video_preview.scrubber_media_url,index:n.state.index}):r.a.createElement(G,{data:e,url:e.preview.images[0].source.url,index:n.state.index});default:return r.a.createElement(M,{data:e,index:n.state.index})}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),this.fetchPage(null,null)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this.state,t=e.posts,n=e.index,a=e.loading,i=t[n%Q];return r.a.createElement(g.MuiThemeProvider,{theme:$},r.a.createElement(O,{onSubmit:this.onSearch}),r.a.createElement(h.a,{style:{height:"100vh"},container:!0,justify:"center",alignItems:"center"},a?r.a.createElement(p.a,null):this.renderPost(i.data)))}}]),t}(r.a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(q,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ripe",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ripe","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):V(t,e)})}}()}},[[200,2,1]]]);
//# sourceMappingURL=main.41ca65b4.chunk.js.map